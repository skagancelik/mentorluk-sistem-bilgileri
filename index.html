<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentorluk Programı Yönetim Sistemi - Sistem Tipolojisi</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #e0e0e0;
            background: #1a1a1a;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #2d2d2d;
            border-radius: 0;
            overflow: hidden;
        }
        
        .header {
            background: #1f1f1f;
            color: #e0e0e0;
            padding: 40px;
            text-align: center;
            border-bottom: 1px solid #404040;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
            margin-bottom: 20px;
        }
        
        .header .info {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .header .info-item {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .section h2 {
            color: #88aaff;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #404040;
        }
        
        .section h3 {
            color: #99bbff;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }
        
        .diagram-container {
            background: #1f1f1f;
            border-radius: 0;
            padding: 30px;
            margin: 30px 0;
            overflow-x: auto;
            border: 1px solid #404040;
        }
        
        .components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .component-card {
            background: #1f1f1f;
            border-left: 3px solid #88aaff;
            padding: 20px;
            border-radius: 0;
            transition: none;
        }
        
        .component-card:hover {
            background: #252525;
        }
        
        .component-card h4 {
            color: #88aaff;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .component-card ul {
            list-style: none;
            padding-left: 0;
        }
        
        .component-card li {
            padding: 5px 0;
            color: #b0b0b0;
        }
        
        .component-card li:before {
            content: "▸ ";
            color: #88aaff;
            font-weight: bold;
        }
        
        .qa-section {
            background: #1f1f1f;
            border-radius: 0;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid #404040;
        }
        
        .qa-item {
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #404040;
        }
        
        .qa-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .qa-question {
            color: #88aaff;
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .qa-answer {
            color: #b0b0b0;
            line-height: 1.8;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tech-item {
            background: #1f1f1f;
            border: 1px solid #404040;
            border-radius: 0;
            padding: 20px;
        }
        
        .tech-item h4 {
            color: #99bbff;
            margin-bottom: 10px;
        }
        
        .badge {
            display: inline-block;
            background: #404040;
            color: #e0e0e0;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.85em;
            margin: 5px 5px 5px 0;
            border: 1px solid #606060;
        }
        
        .footer {
            background: #1f1f1f;
            padding: 30px;
            text-align: center;
            color: #808080;
            border-top: 1px solid #404040;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .header .info {
                flex-direction: column;
                gap: 10px;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mentorluk Programı Yönetim Sistemi</h1>
            <div class="subtitle">Sistem Tipolojisi ve Teknik Bilgiler</div>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>Sistem Mimarisi</h2>
                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    subgraph Client["Client Layer"]
        WC[Web-Client<br/>React 15.6 + SSR<br/>platform]
        WA[Web-Admin<br/>React 16.7 + TypeScript<br/>admin portal]
        DV[Konsol<br/>Stencil.js Web Components<br/>konsol]
    end
    
    subgraph AWS["AWS Cloud Infrastructure<br/>Region: eu-central-1 (Frankfurt)"]
        subgraph Services["Application Services"]
            API[API Service<br/>Go 1.22<br/>Port 1707]
            CRON[API-Cron<br/>Go 1.15<br/>Background Jobs]
        end
        
        subgraph Storage["Storage & Database"]
            MONGO[(MongoDB<br/>Document Database)]
            S3[AWS S3<br/>File Storage]
            SSM[AWS SSM<br/>Parameter Store<br/>Secrets Management]
        end
        
        subgraph External["External Services"]
            SES[AWS SES<br/>Email Delivery]
            ECR[AWS ECR<br/>Docker Registry]
            CF[CloudFront<br/>CDN]
        end
    end
    
    subgraph Integrations["Third-Party Integrations"]
        ZOOM[Zoom API<br/>OAuth2 + Meetings API]
        MS[Microsoft Graph API<br/>Teams + Outlook Calendar]
        GOOGLE[Google Calendar API<br/>OAuth2 + Calendar Sync]
    end
    
    WC -->|HTTPS/TLS| API
    WA -->|HTTPS/TLS| API
    DV -->|HTTPS/TLS| API
    
    API -->|JWT Auth| MONGO
    API -->|OAuth2 Tokens| SSM
    API -->|Files| S3
    API -->|Email| SES
    
    CRON -->|Scheduled Jobs| MONGO
    CRON -->|Read OAuth2 Tokens| MONGO
    CRON -->|Secrets| SSM
    
    API -->|OAuth2| ZOOM
    API -->|OAuth2| MS
    API -->|OAuth2| GOOGLE
    
    CRON -->|Calendar Sync<br/>Uses OAuth2 Tokens| MS
    CRON -->|Calendar Sync<br/>Uses OAuth2 Tokens| GOOGLE
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Sistem Bileşenleri</h2>
                
                <h3>Frontend Uygulamaları</h3>
                <div class="components-grid">
                    <div class="component-card">
                        <h4>Web-Client</h4>
                        <ul>
                            <li>React 15.6 + Redux</li>
                            <li>Express Server-Side Rendering</li>
                            <li>Material-UI</li>
                            <li>Kullanıcı platformu</li>
                            <li>platform</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>Web-Admin</h4>
                        <ul>
                            <li>React 16.7 + TypeScript</li>
                            <li>Redux state management</li>
                            <li>Ant Design UI framework</li>
                            <li>Program yönetim paneli</li>
                            <li>admin portal</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>Konsol</h4>
                        <ul>
                            <li>Stencil.js 2.17</li>
                            <li>Web Components</li>
                            <li>Sistem yönetim konsolu</li>
                            <li>konsol</li>
                        </ul>
                    </div>
                </div>
                
                <h3>Backend Servisleri</h3>
                <div class="components-grid">
                    <div class="component-card">
                        <h4>API Service</h4>
                        <ul>
                            <li>Go 1.22</li>
                            <li>RESTful API</li>
                            <li>JWT Authentication</li>
                            <li>OAuth2 Handler</li>
                            <li>MongoDB Driver</li>
                            <li>Port 1707</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>API-Cron</h4>
                        <ul>
                            <li>Go 1.15</li>
                            <li>Cron Scheduler</li>
                            <li>Calendar Synchronization</li>
                            <li>Email Reminders</li>
                            <li>Background Jobs</li>
                        </ul>
                    </div>
                </div>
                
                <h3>Altyapı ve Depolama</h3>
                <div class="components-grid">
                    <div class="component-card">
                        <h4>Veritabanı</h4>
                        <ul>
                            <li>MongoDB Document Database</li>
                            <li>Collections: users, auth, events, organizations, programs, forms</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>AWS Servisleri</h4>
                        <ul>
                            <li>Region: eu-central-1 (Frankfurt)</li>
                            <li>S3 - File Storage</li>
                            <li>SSM Parameter Store - Secrets</li>
                            <li>EC2 - Container Hosts</li>
                            <li>ECR - Docker Registry</li>
                            <li>SES - Email Delivery</li>
                            <li>CloudFront - CDN</li>
                            <li>CloudWatch Logs - Container logging</li>
                            <li>CloudWatch Metrics - Instance monitoring</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>CI/CD & Infrastructure</h4>
                        <ul>
                            <li>GitHub Actions - CI/CD Pipeline</li>
                            <li>Terraform - Infrastructure as Code</li>
                            <li>Ansible - Deployment Automation</li>
                            <li>Docker Containers</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>IT & Güvenlik Ekipleri için Q&A</h2>
                
                <div class="qa-section">
                    <h3>Güvenlik</h3>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Kimlik doğrulama nasıl çalışıyor?</div>
                        <div class="qa-answer">
                            A: JWT token tabanlı stateless authentication. Tüm API istekleri Authorization header'ında JWT token gerektirir. Token'lar AWS SSM'de saklanan secret key ile imzalanır.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: OAuth2 token'ları nasıl saklanıyor?</div>
                        <div class="qa-answer">
                            A: OAuth2 token'lar (Zoom, Microsoft, Google) MongoDB'de şifrelenmiş olarak saklanır. Access token'lar otomatik olarak refresh edilir. Secret'lar (client ID/secret) AWS SSM Parameter Store'da tutulur, kod içinde hardcode edilmez.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Webhook güvenliği nasıl sağlanıyor?</div>
                        <div class="qa-answer">
                            A: Zoom webhook'ları verification token ile doğrulanır. Token AWS SSM'de saklanır. Webhook endpoint'leri JWT validation'dan muaf tutulur, sadece verification token kontrolü yapılır.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Veri şifreleme nasıl?</div>
                        <div class="qa-answer">
                            A: HTTPS/TLS end-to-end encryption. Helmet.js ile security headers (CSP, HSTS, XSS protection). HttpOnly ve Secure cookie flags. Input validation ve sanitization.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Secret yönetimi nasıl?</div>
                        <div class="qa-answer">
                            A: Tüm secret'lar (OAuth2 credentials, JWT keys, database passwords) AWS SSM Parameter Store'da environment bazlı saklanır. Local config dosyaları commit edilmez.
                        </div>
                    </div>
                </div>
                
                <div class="qa-section">
                    <h3>Entegrasyonlar</h3>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Zoom entegrasyonu nasıl çalışıyor?</div>
                        <div class="qa-answer">
                            A: OAuth2 flow ile kullanıcı yetkilendirmesi. Token'lar MongoDB'de saklanır. Toplantı oluşturulduğunda Zoom Meetings API (POST /v2/users/me/meetings) çağrılır. Webhook ile deauthorization event'leri dinlenir.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Microsoft Teams/Outlook entegrasyonu?</div>
                        <div class="qa-answer">
                            A: Microsoft Graph API kullanılır. OAuth2 scopes: calendars.readwrite, user.read. Teams meeting'ler için isOnlineMeeting: true ve onlineMeetingProvider: "teamsForBusiness" parametreleri kullanılır.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Google Calendar entegrasyonu?</div>
                        <div class="qa-answer">
                            A: Google Calendar API v3. OAuth2 scopes: calendar, userinfo.email. Toplantılar otomatik olarak Google Calendar'a sync edilir. Google Meet link'leri otomatik oluşturulur.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Entegrasyon token'ları ne zaman refresh ediliyor?</div>
                        <div class="qa-answer">
                            A: API servisi token'ları kullanmadan önce expire olup olmadığını kontrol eder ve gerekirse otomatik refresh eder. API-Cron servisi MongoDB'den mevcut token'ları okuyarak calendar sync işlemlerini yapar. Access token'lar genellikle 1 saat geçerlidir.
                        </div>
                    </div>
                </div>
                
                <div class="qa-section">
                    <h3>Teknik Altyapı</h3>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Deployment süreci nasıl?</div>
                        <div class="qa-answer">
                            A: GitHub Actions workflow'u manuel tetiklenir. Docker image build edilir, AWS ECR'ye (eu-central-1 Frankfurt) push edilir. Ansible playbook ile EC2 instance'lara deploy edilir. Slack notification gönderilir. Tüm AWS servisleri Frankfurt (eu-central-1) bölgesinde çalışmaktadır.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Database yapısı?</div>
                        <div class="qa-answer">
                            A: MongoDB document database. Collections: users, auth (OAuth2 tokens), events (meetings), organizations, programs, forms. Replica set yapılandırması production'da.
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Monitoring ve logging?</div>
                        <div class="qa-answer">
                            A: <strong>AWS CloudWatch Logs</strong> - Docker container log'ları CloudWatch'a gönderilir (awslogs driver). Log grupları: /prod/api, /prod/api-cron, /prod/web-client. <strong>CloudWatch Metrics</strong> - EC2 instance metrikleri (CPU, network, disk) otomatik toplanır. Logrus ile structured logging. External API call'lar için metric logging (duration, success/failure). Sentry error tracking. Prometheus + Grafana monitoring (ops klasöründe).
                        </div>
                    </div>
                    
                    <div class="qa-item">
                        <div class="qa-question">Q: Port yapılandırması?</div>
                        <div class="qa-answer">
                            A: API servisi port 1707'de çalışır. Web-Client Express SSR server. Web-Admin Nginx ile serve edilir (port 80). Tüm trafik HTTPS üzerinden.
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Teknik Stack Detayları</h2>
                
                <div class="tech-stack">
                    <div class="tech-item">
                        <h4>Frontend</h4>
                        <span class="badge">React 15.6</span>
                        <span class="badge">React 16.7</span>
                        <span class="badge">TypeScript</span>
                        <span class="badge">Redux</span>
                        <span class="badge">Stencil.js</span>
                        <span class="badge">Material-UI</span>
                        <span class="badge">Ant Design</span>
                    </div>
                    
                    <div class="tech-item">
                        <h4>Backend</h4>
                        <span class="badge">Go 1.22</span>
                        <span class="badge">Go 1.15</span>
                        <span class="badge">MongoDB</span>
                        <span class="badge">JWT</span>
                        <span class="badge">OAuth2</span>
                    </div>
                    
                    <div class="tech-item">
                        <h4>Infrastructure</h4>
                        <span class="badge">Docker</span>
                        <span class="badge">AWS EC2</span>
                        <span class="badge">AWS S3</span>
                        <span class="badge">AWS SSM</span>
                        <span class="badge">Terraform</span>
                        <span class="badge">Ansible</span>
                        <span class="badge">GitHub Actions</span>
                    </div>
                    
                    <div class="tech-item">
                        <h4>Integrations</h4>
                        <span class="badge">Zoom API</span>
                        <span class="badge">Microsoft Graph</span>
                        <span class="badge">Google Calendar</span>
                        <span class="badge">AWS SES</span>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Entegrasyon Detayları</h2>
                
                <div class="components-grid">
                    <div class="component-card">
                        <h4>Zoom</h4>
                        <ul>
                            <li>OAuth2 Authentication</li>
                            <li>Meetings API v2</li>
                            <li>Webhook: /hooks/zoom/deauthorization</li>
                            <li>Scopes: meeting:write, user:read</li>
                            <li>Token auto-refresh</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>Microsoft</h4>
                        <ul>
                            <li>Microsoft Graph API</li>
                            <li>Teams Meetings</li>
                            <li>Outlook Calendar</li>
                            <li>OAuth2 Azure AD</li>
                            <li>Two-way calendar sync</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>Google</h4>
                        <ul>
                            <li>Google Calendar API v3</li>
                            <li>Google Meet integration</li>
                            <li>OAuth2 Authentication</li>
                            <li>Two-way calendar sync</li>
                            <li>Automatic meeting links</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p><strong>Mentorluk Programı Yönetim Sistemi</strong></p>
            <p style="margin-top: 10px; font-size: 0.9em; color: #999;">
                Bu dokümantasyon IT ve güvenlik ekipleri için hazırlanmıştır.
            </p>
        </div>
    </div>
    
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#88aaff',
                primaryTextColor: '#e0e0e0',
                primaryBorderColor: '#606060',
                lineColor: '#606060',
                secondaryColor: '#404040',
                tertiaryColor: '#1f1f1f',
                background: '#1f1f1f',
                mainBkg: '#2d2d2d',
                secondBkg: '#1f1f1f',
                mainContrastColor: '#e0e0e0',
                darkTextColor: '#e0e0e0',
                border1: '#606060',
                border2: '#404040',
                arrowheadColor: '#606060',
                fontFamily: '-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif',
                fontSize: '16px',
                nodeBorder: '#606060',
                clusterBkg: '#1f1f1f',
                clusterBorder: '#606060',
                defaultLinkColor: '#606060',
                titleColor: '#88aaff',
                edgeLabelBackground: '#2d2d2d',
                nodeTextColor: '#e0e0e0'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                padding: 20
            }
        });
    </script>
</body>
</html>
